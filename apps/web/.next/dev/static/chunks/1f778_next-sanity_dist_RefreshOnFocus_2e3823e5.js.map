{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/apps/web/node_modules/.pnpm/next-sanity@12.1.0_94e6cbc7030d226050a9f2acad345bbf/node_modules/next-sanity/dist/RefreshOnFocus.js","sources":["file:///C:/Users/jpilk/Documents/Projects/sanity-course/day-one/apps/web/node_modules/.pnpm/next-sanity%4012.1.0_94e6cbc7030d226050a9f2acad345bbf/node_modules/next-sanity/src/live/client-components/live/RefreshOnFocus.tsx"],"sourcesContent":["import {useRouter} from 'next/navigation'\nimport {useEffect} from 'react'\n\nconst focusThrottleInterval = 5_000\n\nexport default function RefreshOnFocus(): null {\n  const router = useRouter()\n\n  useEffect(() => {\n    const controller = new AbortController()\n    let nextFocusRevalidatedAt = 0\n    const callback = () => {\n      const now = Date.now()\n      if (now > nextFocusRevalidatedAt && document.visibilityState !== 'hidden') {\n        router.refresh()\n        nextFocusRevalidatedAt = now + focusThrottleInterval\n      }\n    }\n    const {signal} = controller\n    document.addEventListener('visibilitychange', callback, {passive: true, signal})\n    window.addEventListener('focus', callback, {passive: true, signal})\n    return () => controller.abort()\n  }, [router])\n\n  return null\n}\nRefreshOnFocus.displayName = 'RefreshOnFocus'\n"],"names":[],"mappings":";;;;;;;;AAGA,MAAM,wBAAwB;AAE9B,SAAwB,iBAAuB;IAC7C,MAAM,aAAS,gRAAA,EAAW;IAE1B,IAAA,wSAAA;oCAAA,MAAgB;YACd,MAAM,aAAa,IAAI,iBAAiB;YACxC,IAAI,yBAAyB;YAC7B,MAAM;qDAAA,MAAiB;oBACrB,MAAM,MAAM,KAAK,GAAA,EAAK;oBACtB,IAAI,MAAM,0BAA0B,SAAS,eAAA,KAAoB,UAAU;wBACzE,OAAO,OAAA,EAAS;wBAChB,yBAAyB,MAAM;;;;YAGnC,MAAM,EAAC,MAAA,EAAA,GAAU;YACjB,SAAS,gBAAA,CAAiB,oBAAoB,UAAU;gBAAC,SAAS;gBAAM;aAAO,CAAC;YAChF,OAAO,gBAAA,CAAiB,SAAS,UAAU;gBAAC,SAAS;gBAAM;aAAO,CAAC;YACnE;4CAAA,IAAa,WAAW,KAAA,EAAO;;;mCAC9B;QAAC;KAAO,CAAC;IAEZ,OAAO;;AAET,eAAe,WAAA,GAAc"}}]
}